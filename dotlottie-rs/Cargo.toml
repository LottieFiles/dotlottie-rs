[package]
name = "dotlottie-rs"
version = "0.1.0"
edition = "2021"
links = "thorvg"

[lib]
crate-type = ["staticlib", "cdylib", "rlib"]

[features]
default = []
thorvg = []
thorvg_lottie_expressions = []
thorvg_jpg = []
thorvg_png = []
thorvg_webp = []
thorvg_ttf = []
thorvg_threads = []

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
[dependencies]
serde_json = { version = "1.0", default-features = false, features = ["preserve_order"] }
serde = { version = "1.0", features = ["derive"] }
zip = { version = "2.4.2", default-features = false, features = ["deflate"] }

[build-dependencies]
bindgen = "0.72.0"
cc = { version = "1.2", features = ["parallel"] }
cfg-if = "1.0"

[dev-dependencies]
criterion = "0.5.1"
# This is a workaround to enable this feature only on dev.
dotlottie-rs = { path = ".", features = ["thorvg"] }

[[bench]]
name = "benchmarks"
harness = false
