{
    "descriptor": {
      "id": "Exploding pigeon",
      "initial": "Pigeon Running"
    },
      "states": [
          {
              "type": "PlaybackState",
              "name": "Pigeon Running",
              "loop": true,
              "autoplay": true,
              "segment": "bird",
              
              "transitions": [
                {
                    "type": "Transition",
                    "to_state": "Explosion",
                    "guards": [
                      {
                          "type": "Event",
                          "trigger_name": "Step"
                      }, 
                      {
                          "type": "Numeric",
                          "trigger_name": "a",
                          "condition_type": "Equal",
                          "compare_to": 1
                      }
                    ]
                },
                {
                    "type": "Transition",
                    "to_state": "Feathers falling",
                    "guards": [
                      {
                          "type": "Numeric",
                          "trigger_name": "b",
                          "condition_type": "Equal",
                          "compare_to": 3
                      }
                    ]
                },
                {
                    "type": "Transition",
                    "to_state": "Explosion",
                    "guards": [
                        {
                            "type": "Event",
                            "trigger_name": "Step"
                        }
                      ]
                }
                ]
          },
          {
              "type": "PlaybackState",
              "name": "Explosion",
              "loop": false,
              "autoplay": true,
              "segment": "explosion",
              "speed": 0.5,
              
              "transitions": [
              {
                  "type": "Transition",
                  "to_state": "Feathers falling",
                  "guards": [
                    {
                        "type": "Event",
                        "trigger_name": "Step"
                    }
                  ]
              }]
          },
          {
              "type": "PlaybackState",
              "name": "Feathers falling",
              "loop": false,
              "autoplay": true,
              "segment": "feather",
              "speed": 1,
              
              "transitions": [
              {
                  "type": "Transition",
                  "to_state": "Pigeon Running",
                  "guards": [
                    {
                        "type": "Event",
                        "trigger_name": "Step"
                    }
                  ]
              }]
          }
      ],
      "listeners": [
          {
              "type": "PointerDown",
              "actions": [{
                    "type": "Fire",
                    "trigger_name": "Explode"
              }]
          },
          {
              "type": "OnComplete",
              "state": "Explosion",
              "actions": [{
                "type": "Fire",
                "trigger_name": "Raing feathers"
          }]
      },
          {
              "type": "PointerDown",
              "actions": [{
                "type": "Fire",
                "trigger_name": "Restart"
          }]
      }
      ],
      "triggers": [
        {
            "type": "Event",
            "name": "Step"
        },
        {
            "type": "Numeric",
            "name": "a",
            "value": 2
        },
        {
            "type": "Numeric",
            "name": "b",
            "value": 2
        }   

       ]
  }